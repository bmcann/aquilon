<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V5.0//EN"
"http://docbook.org/xml/5.0/dtd/docbook.dtd" [
<!ENTITY aqd_version SYSTEM "../version.txt">
]>
<refentry xml:id="aq_cat"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xi="http://www.w3.org/2001/XInclude">
    <refmeta>
        <refentrytitle>aq_cat</refentrytitle>
        <manvolnum>1</manvolnum>
        <refmiscinfo class="version">&aqd_version;</refmiscinfo>
        <refmiscinfo class="manual">Aquilon Commands</refmiscinfo>
    </refmeta>

    <refnamediv>
        <refname>aq cat</refname>
        <refpurpose>
            Dump broker generated plenaries
        </refpurpose>
        <refclass>Aquilon</refclass>
    </refnamediv>

    <refsynopsisdiv>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--machine <replaceable>MACHINE</replaceable></option></arg>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--hostname <replaceable>HOSTNAME</replaceable></option></arg>
            <group>
                <arg choice="plain"><option>--data</option></arg>
                <arg choice="plain"><option>--host_personality</option></arg>
                <arg choice="plain"><option>--host_archetype</option></arg>
                <arg choice="plain"><option>--host_grn</option></arg>
                <arg choice="plain">
                    <arg><option>--resourcegroup <replaceable>GROUP</replaceable></option></arg>
                    <group>
                        <synopfragmentref linkend="resource-options">Resource options</synopfragmentref>
                    </group>
                </arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--cluster <replaceable>CLUSTER</replaceable></option></arg>
            <group>
                <arg choice="plain"><option>--data</option></arg>
                <arg choice="plain"><option>--client</option></arg>
                <arg choice="plain">
                    <arg><option>--resourcegroup <replaceable>GROUP</replaceable></option></arg>
                    <group>
                        <synopfragmentref linkend="resource-options">Resource options</synopfragmentref>
                        <arg choice="plain"><option>--system_list</option></arg>
                        <arg choice="plain"><option>--auto_start_list</option></arg>
                    </group>
                </arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--metacluster <replaceable>METACLUSTER</replaceable></option></arg>
            <group>
                <arg choice="plain"><option>--data</option></arg>
                <arg choice="plain">
                    <arg><option>--resourcegroup <replaceable>GROUP</replaceable></option></arg>
                    <group>
                        <synopfragmentref linkend="resource-options">Resource options</synopfragmentref>
                    </group>
                </arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--city <replaceable>CITY</replaceable></option></arg>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--service <replaceable>SERVICE</replaceable></option></arg>
            <arg><option>--instance <replaceable>INSTANCE</replaceable></option></arg>
            <arg><option>--server</option></arg>
            <arg><option>--default</option></arg>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--network_device <replaceable>NETDEV</replaceable></option></arg>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--networkip <replaceable>IP</replaceable></option></arg>
            <group>
                <arg choice="plain"><option>--network_environment <replaceable>NETENV</replaceable></option></arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--personality <replaceable>PERSONALITY</replaceable></option></arg>
            <group>
                <arg choice="plain">
                    <arg><option>--personality_stage <replaceable>STAGE</replaceable></option></arg>
                    <arg><option>--archetype <replaceable>ARCHETYPE</replaceable></option></arg>
                    <arg><option>--param_tmpl <replaceable>NAME</replaceable></option></arg>
                </arg>
                <arg choice="plain">
                    <group choice="req">
                        <synopfragmentref linkend="location-options">Location options</synopfragmentref>
                    </group>
                </arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--virtual_switch <replaceable>NAME</replaceable></option></arg>
            <arg choice="plain"><option>--data</option></arg>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <arg choice="plain"><option>--archetype <replaceable>ARCHETYPE</replaceable></option></arg>
            <arg choice="plain"><option>--host_environment <replaceable>HOSTENV</replaceable></option></arg>
            <group choice="req">
                <synopfragmentref linkend="location-options">Location options</synopfragmentref>
            </group>
            <group>
                <arg choice="plain"><option>--hostlink <replaceable>NAME</replaceable></option></arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command>aq cat</command>
            <group>
                <synopfragmentref linkend="global-options">Global options</synopfragmentref>
            </group>
            <group choice="req">
                <arg choice="plain"><option>--grn <replaceable>GRN</replaceable></option></arg>
                <arg choice="plain"><option>--eon_id <replaceable>EONID</replaceable></option></arg>
            </group>
            <arg choice="plain"><option>--host_environment <replaceable>HOSTENV</replaceable></option></arg>
            <group choice="req">
                <synopfragmentref linkend="location-options">Location options</synopfragmentref>
            </group>
            <group>
                <arg choice="plain"><option>--hostlink <replaceable>NAME</replaceable></option></arg>
            </group>
            <arg><option>--generate</option></arg>
        </cmdsynopsis>
        <cmdsynopsis>
            <command></command>
            <xi:include href="../common/global_options.xml"/>
            <synopfragment xml:id="resource-options" xmlns="http://docbook.org/ns/docbook">
                <group>
                    <arg choice="plain"><option>--application <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--filesystem <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--hostlink <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--intervention <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--service_address <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--share <replaceable>NAME</replaceable></option></arg>
                    <arg choice="plain"><option>--reboot_intervention</option></arg>
                    <arg choice="plain"><option>--reboot_schedule</option></arg>
                    <arg choice="plain"><option>--virtual_machine <replaceable>NAME</replaceable></option></arg>
                </group>
            </synopfragment>
            <xi:include href="../common/location_options.xml"/>
        </cmdsynopsis>
    </refsynopsisdiv>

    <refsect1>
        <title>Description</title>
        <para>
            The <command>aq cat</command> command displays the various plenary templates generated and maintained by the broker.
        </para>
    </refsect1>

    <refsect1>
        <title>Options</title>
        <variablelist>
            <title>Generic command-specific options</title>
            <varlistentry>
                <term>
                    <option>--generate</option>
                </term>
                <listitem>
                    <para>
                        Generate the plenary template on the fly instead of displaying the on-disk version.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at the host/machine plenaries</title>
            <varlistentry>
                <term>
                    <option>--machine <replaceable>MACHINE</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the machine plenary. <replaceable>MACHINE</replaceable> may be either the
                        hardware label or the primary host name.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--hostname <replaceable>HOSTNAME</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display plenaries related to the host <replaceable>HOSTNAME</replaceable>. If
                        no other options are specified, then the object template is displayed. If the
                        <option>--data</option> option is specified, then the template storing all the
                        data for the host is displayed. If one of the resource-specific options is
                        specified (e.g. <option>--application</option>, <option>--filesystem</option> etc.),
                        then the named resource is displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--cluster <replaceable>CLUSTER</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display plenaries related to the cluster <replaceable>CLUSTER</replaceable>. If
                        no other options are specified, then the object template is displayed. If the
                        <option>--data</option> option is specified, then the template storing all the
                        data for the cluster is displayed. If one of the resource-specific options is
                        specified (e.g. <option>--application</option>, <option>--filesystem</option> etc.),
                        then the named resource is displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--metacluster <replaceable>METACLUSTER</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display plenaries related to the metacluster <replaceable>METACLUSTER</replaceable>. If
                        no other options are specified, then the object template is displayed. If the
                        <option>--data</option> option is specified, then the template storing all the
                        data for the cluster is displayed. If one of the resource-specific options is
                        specified (e.g. <option>--application</option>, <option>--filesystem</option> etc.),
                        then the named resource is displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--data</option>
                </term>
                <listitem>
                    <para>
                        Hosts and clusters have multiple plenary templates. Specifying this option causes
                        the template containing the data definitions to be displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--client</option>
                </term>
                <listitem>
                    <para>
                        In case of clusters, display the plenary template which all members of the cluster
                        include.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--host_personality</option>
                </term>
                <listitem>
                    <para>
                        In case of host, display the plenary template that the host include to load
                        all that is related to its personality, including all of the applicable
                        parameterized Personality (per-location).
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--host_archetype</option>
                </term>
                <listitem>
                    <para>
                        In case of host, display the plenary template that the host include to load
                        all that is related to its archetype, including all of the applicable
                        parameterized Archetype (per-environment and per-location).
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--host_grn</option>
                </term>
                <listitem>
                    <para>
                        In case of host, display the plenary template that the host include to load
                        all that is related to its Grn, including all the applicable parameterized
                        Grn (per-environment and per-location).
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--resourcegroup <replaceable>GROUP</replaceable></option>
                </term>
                <listitem>
                    <para>
                        If this option is specified together with one of the resource options (like
                        <option>--application</option>, <option>--filesystem</option> etc.), then it
                        specifies the resource group where the named resource should be located. If this
                        option is specified without also specifying other resource options, then the
                        plenary template of the resource group will be displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--application <replaceable>NAME</replaceable></option>,
                    <option>--filesystem <replaceable>NAME</replaceable></option>,
                    <option>--hostlink <replaceable>NAME</replaceable></option>,
                    <option>--intervention <replaceable>NAME</replaceable></option>,
                    <option>--service_address <replaceable>NAME</replaceable></option>,
                    <option>--share <replaceable>NAME</replaceable></option>,
                    <option>--reboot_intervention</option>,
                    <option>--reboot_schedule</option>,
                    <option>--virtual_machine <replaceable>NAME</replaceable></option>
                    <option>--auto_start_list</option>,
                    <option>--system_list</option>,
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named resource. Use the <option>--resourcegroup</option>
                        if the resource is part of a resource group.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at network device plenaries</title>
            <varlistentry>
                <term>
                    <option>--network_device <replaceable>NETDEV</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named network device.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at network plenaries</title>
            <varlistentry>
                <term>
                    <option>--networkip <replaceable>IP</replaceable></option>
                    <option>--network_environment <replaceable>NETENV</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the network.  If the <option>--network_environment</option> is
                        not given then it defaults to "internal".
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at location plenaries</title>
            <varlistentry>
                <term>
                    <option>--city <replaceable>CITY</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named city.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at service plenaries</title>
            <varlistentry>
                <term>
                    <option>--service <replaceable>SERVICE</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display plenaries related to the given service. If no other options are specified,
                        then the default top-level plenary is displayed. If <option>--default</option> is
                        specified, then the default client plenary is displayed. If both
                        <option>--default</option> and <option>--server</option> are specified, then
                        the default server plenary is displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--instance <replaceable>INSTANCE</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display plenaries related to the given service instance. If no other options are
                        specified, then the default top-level plenary is displayed. If <option>--default</option>
                        is specified, then the default client plenary is displayed. If <option>--server</option>
                        is specified, then the server data, containing all clients of the service, is displayed.
                        If both <option>--server</option> and <option>--default</option> are
                        specified, then the default server plenary is displayed.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--server</option>
                </term>
                <listitem>
                    <para>
                        Display the server-specific plenaries of a service or service instance. See the
                        description of the <option>--service</option> and <option>--instance</option>
                        options for details.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--default</option>
                </term>
                <listitem>
                    <para>
                        Display default plenaries which may be overridden by the real templates. See the
                        description of the <option>--service</option> and <option>--instance</option>
                        options for details.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at personality plenaries</title>
            <varlistentry>
                <term>
                    <option>--personality <replaceable>PERSONALITY</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the given personality. If no other options are specified, the default
                        top-level plenary is displayed. Use option <option>--param_tmpl</option> to select other related
                        templates. Use <replaceable>Location options</replaceable> to select the parameterized templates.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--archetype <replaceable>ARCHETYPE</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Specify the archetype of the personality, if the name of the personality is not unique.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--personality_stage <replaceable>STAGE</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Select the stage of the personality to use. Defaults to <literal>current</literal>.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--param_tmpl <replaceable>NAME</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the named parameter template.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    --<replaceable>location_type</replaceable> <replaceable>LOCNAME</replaceable>
                </term>
                <listitem>
                    <para>
                        Display the parameterized personality template for the named location.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at virtual switch plenaries</title>
            <varlistentry>
                <term>
                    <option>--virtual_switch <replaceable>NAME</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named virtual switch. Virtual switches are currently
                        not compileable, but may be in the future, therefore the <option>--data</option> option
                        is mandatory.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at archetype plenaries</title>
            <varlistentry>
                <term>
                    <option>--archetype <replaceable>ARCHETYPE</replaceable></option>
                    <option>--host_environment <replaceable>HOSTENV</replaceable></option>
                    --<replaceable>location_type</replaceable> <replaceable>LOCNAME</replaceable>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named archetype, parameterized with
                        the named host environment and named location.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--hostlink <replaceable>NAME</replaceable></option>,
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named resource.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <variablelist>
            <title>Looking at GRN plenaries</title>
            <varlistentry>
                <term>
                    {
                        <option>--grn <replaceable>GRN</replaceable></option> |
                        <option>--eon_id <replaceable>EON_ID</replaceable></option>
                    }
                    <option>--host_environment <replaceable>HOSTENV</replaceable></option>
                    --<replaceable>location_type</replaceable> <replaceable>LOCNAME</replaceable>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named GRN, parameterized with
                        the named host environment and named location.
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <option>--hostlink <replaceable>NAME</replaceable></option>
                </term>
                <listitem>
                    <para>
                        Display the plenary of the named resource.
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
        <xi:include href="../common/location_options_desc.xml"/>
        <xi:include href="../common/global_options_desc.xml"/>
    </refsect1>

    <refsect1>
        <title>Examples</title>
        <example>
            <title>Look at the object template of a host</title>
            <programlisting>
aq cat --hostname foo.bar.com
            </programlisting>
        </example>

        <example>
            <title>Look at the data template of a host</title>
            <programlisting>
aq cat --hostname foo.bar.com --data
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a resource group</title>
            <programlisting>
aq cat --cluster foo --resourcegroup bar
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a file system that is part of a resource group</title>
            <programlisting>
aq cat --cluster foo --resourcegroup bar --filesystem fs1
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a hostlink</title>
            <programlisting>
aq cat --hostname foo --hostlink bar
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary listing the clients of a service instance</title>
            <programlisting>
aq cat --service foo --instance bar --server
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a parameterized GRN at the Organization level</title>
            <programlisting>
aq cat --grn grn:/foo/bar/baz --host_environment alice --organization bob
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a hostlink set for a parameterized Archetype at the Hub level</title>
            <programlisting>
aq cat --archetype foo --host_environment alice --hub bob --hostlink bar
            </programlisting>
        </example>

        <example>
            <title>Look at the plenary of a parameterized Personality at the City level</title>
            <programlisting>
aq cat --personality foo --city bar
            </programlisting>
        </example>
    </refsect1>

</refentry>

<!-- vim: set ai sw=4: -->
